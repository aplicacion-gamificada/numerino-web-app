<!-- Contenedor principal -->
<div class="h-screen grid grid-cols-[240px_1fr]">
  <div class="bg-gray-400 flex items-center justify-center">
    <app-sidebar-menu></app-sidebar-menu>
  </div>

  <!-- Contenido -->
  <div class="bg-white p-8 overflow-y-scroll">

    <h2 class="logros-titulo">Tus logros</h2>

    <!-- Tarjetas resumen -->
    <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 mb-8">
      <app-achievement-summary [imageUrl]="'images/icon-logros-obtenidos.png'" [title]="'Logros conseguidos'"
        [subtitle]="'8/22'" [subtitleColor]="'#EF6C00'"></app-achievement-summary>
      <app-achievement-summary [imageUrl]="'images/icon-puntos-totales.png'" [title]="'Puntos totales'"
        [subtitle]="'450'" [subtitleColor]="'#59D721'"></app-achievement-summary>
      <app-achievement-summary [imageUrl]="'images/icon-proximo-logro.png'" [title]="'Próximo logro en'"
        [subtitle]="'50 puntos'" [subtitleColor]="'#28BFEE'"></app-achievement-summary>
    </div>

    <!-- Logros desbloqueados -->
    <div class="flex items-center justify-between">
      <h3 class="logros-subtitulo">Logros desbloqueados</h3>
      <button (click)="toggleMostrarTodosDesbloqueados()" class="text-sm text-gray-500 hover:underline">
        {{ mostrarTodosDesbloqueados ? 'Ver menos' : 'Ver más' }}
      </button>
    </div>

    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-10 mt-10">
      <ng-container *ngFor="let logro of logrosMostrados">
        <app-achievement-card [imageUrl]="logro.imageUrl" [title]="logro.title" [titleColor]="logro.titleColor"
          [subtitle]="logro.subtitle" [points]="logro.points" [pointsColor]="logro.pointsColor"
          (click)="abrirPopUp(logro)">
        </app-achievement-card>
      </ng-container>
    </div>

    <!-- Pop-up de logro expandido -->
    <app-achievement-card-expanded *ngIf="selectedLogro" [imageUrl]="selectedLogro.imageUrl"
      [title]="selectedLogro.title" [titleColor]="selectedLogro.titleColor" [description]="selectedLogro.description"
      [description_points]="selectedLogro.description_points" [pointsColor]="selectedLogro.pointsColor" (close)="cerrarPopUp()">
    </app-achievement-card-expanded>


    <!-- Próximos logros -->
     <div class="flex items-center justify-between">
      <h3 class="logros-subtitulo">Próximos logros</h3>
      <button (click)="toggleMostrarTodosBloqueados()" class="text-sm text-gray-500 hover:underline">
        {{ mostrarTodosBloqueados ? 'Ver menos' : 'Ver más' }}
      </button>
     </div>
    

    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-10 mt-10">
      <ng-container *ngFor="let proximos_logros of logrosBloqueadosMostrados">
        <app-achievement-card [imageUrl]="proximos_logros.imageUrl" [title]="proximos_logros.title"
          [titleColor]="proximos_logros.titleColor" [subtitle]="proximos_logros.subtitle"
          [points]="proximos_logros.points" [pointsColor]="proximos_logros.pointsColor">
        </app-achievement-card>
      </ng-container>
    </div>
  </div>